{# templates/_ranking.html #}
{% if ranking_osaka %}
<div class="card">
    <div class="section-title">大阪デリヘル ランキング（爆サイ）</div>

    {# エラーがあれば表示（ダミーデータでも error にメッセージが入る） #}
    {% if ranking_osaka.error %}
        <p class="error-message">
            ランキング取得時にエラーが発生しました: {{ ranking_osaka.error }}
        </p>
    {% endif %}

    <div>
        {# おすすめ #}
        <div class="section-title-small">おすすめ</div>
        {% if ranking_osaka.osusume %}
            <ol>
                {% for item in ranking_osaka.osusume %}
                    <li>
                        <a href="{{ item.url }}" target="_blank" rel="noopener">
                            {{ item.name }}
                        </a>
                    </li>
                {% endfor %}
            </ol>
        {% else %}
            <p class="muted">おすすめランキングが取得できませんでした。</p>
        {% endif %}

        {# 総合アクセス #}
        <div class="section-title-small">総合アクセス</div>
        {% if ranking_osaka.sogo %}
            <ol>
                {% for item in ranking_osaka.sogo %}
                    <li>
                        <a href="{{ item.url }}" target="_blank" rel="noopener">
                            {{ item.name }}
                        </a>
                    </li>
                {% endfor %}
            </ol>
        {% else %}
            <p class="muted">総合アクセスランキングが取得できませんでした。</p>
        {% endif %}

        {# 急上昇 #}
        <div class="section-title-small">急上昇</div>
        {% if ranking_osaka.kyujo %}
            <ol>
                {% for item in ranking_osaka.kyujo %}
                    <li>
                        <a href="{{ item.url }}" target="_blank" rel="noopener">
                            {{ item.name }}
                        </a>
                    </li>
                {% endfor %}
            </ol>
        {% else %}
            <p class="muted">急上昇ランキングが取得できませんでした。</p>
        {% endif %}
    </div>
</div>
{% endif %}
