<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>スレッド取り込み | Personal Search</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/static/base.css">
</head>
<body class="page-fetch">
<header>
    <h1>Personal Search - スレッド取り込み</h1>
    <div class="nav-links">
        <a href="/">内部検索トップ</a>
        <a href="/thread_search">外部スレッド検索</a>
        <a href="/threads">保存スレッド一覧</a>
    </div>
</header>

<main>
    <a href="/" class="back">← 検索画面に戻る</a>
    <h1>掲示板スレッド取り込み（簡易版）</h1>

    <!-- method="post" action="/admin/fetch" 固定 -->
    <form method="post" action="/admin/fetch">
        <label for="url">スレッドURL：</label>
        <input
            type="text"
            id="url"
            name="url"
            value="{{ url or '' }}"
            placeholder="例：https://example.com/thr_res/..."
        >
        <button type="submit">このURLから投稿を取り込む</button>
    </form>

    <p class="note">
        ※ 実際に掲示板から自動取得する場合は、そのサイトの利用規約・robots.txt を必ず確認し、
        個人利用の範囲・アクセス頻度などにご注意ください。
    </p>

    {% if error %}
        <div class="status error">
            エラー：{{ error }}
        </div>
    {% elif imported is not none %}
        <div class="status ok">
            {{ imported }} 件の投稿を取り込みました。
        </div>
    {% endif %}
</main>
</body>
</html>
